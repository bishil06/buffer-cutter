!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e||self).bufferCutter={})}(this,function(e){function t(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function n(e){this.wrapped=e}function r(e){var t,r;function o(t,r){try{var a=e[t](r),i=a.value,c=i instanceof n;Promise.resolve(c?i.wrapped:i).then(function(e){c?o("return"===t?"return":"next",e):u(a.done?"return":"normal",e)},function(e){o("throw",e)})}catch(e){u("throw",e)}}function u(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?o(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise(function(u,a){var i={key:e,arg:n,resolve:u,reject:a,next:null};r?r=r.next=i:(t=r=i,o(e,n))})},"function"!=typeof e.return&&(this.return=void 0)}function o(e){return function(){return new r(e.apply(this,arguments))}}function u(e){return new n(e)}function a(e,t){var n=t.deepCopy,r=t.start,o=t.end,u=e.length<o?e.length-r:o-r;if(void 0===n||n){var a=Buffer.alloc(u);return e.copy(a,0,r,r+u),a}return e.subarray(r,r+u)}function i(e,t){for(var n=[],r=t.length,o=t.deepCopy,u=void 0===o||o,i=0;i<e.length;)n.push(a(e,{deepCopy:u,start:i,end:i+=r}));return n}function c(){return(c=o(regeneratorRuntime.mark(function e(n,r){var o,a,c,f,s,l,p,h,y,d,v,b,x;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=r.length,c=void 0===(a=r.deepCopy)||a,f=[],s=!0,l=!1,e.prev=4,h=t(n);case 6:return e.next=8,u(h.next());case 8:return s=(y=e.sent).done,e.next=12,u(y.value);case 12:if(d=e.sent,s){e.next=33;break}if(f.push(v=d),!(f.reduce(function(e,t){return e+t.length},0)>o)){e.next=29;break}b=i(Buffer.concat(f),{deepCopy:c,length:o}),x=0;case 20:if(!(x<b.length-1)){e.next=26;break}return e.next=23,b[x];case 23:x+=1,e.next=20;break;case 26:f.push(b[b.length-1]),e.next=30;break;case 29:f.push(v);case 30:s=!0,e.next=6;break;case 33:e.next=39;break;case 35:e.prev=35,e.t0=e.catch(4),l=!0,p=e.t0;case 39:if(e.prev=39,e.prev=40,s||null==h.return){e.next=44;break}return e.next=44,u(h.return());case 44:if(e.prev=44,!l){e.next=47;break}throw p;case 47:return e.finish(44);case 48:return e.finish(39);case 49:if(!f){e.next=52;break}return e.next=52,f.pop();case 52:case"end":return e.stop()}},e,null,[[4,35,39,49],[40,,44,48]])}))).apply(this,arguments)}r.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},r.prototype.next=function(e){return this._invoke("next",e)},r.prototype.throw=function(e){return this._invoke("throw",e)},r.prototype.return=function(e){return this._invoke("return",e)},e.cutBuffer=a,e.cuttingBuffer=i,e.cuttingRStream=function(e,t){return c.apply(this,arguments)}});
//# sourceMappingURL=index.umd.js.map
