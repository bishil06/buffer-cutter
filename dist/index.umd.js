!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e||self).bufferCutter={})}(this,function(e){function t(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function n(e){this.wrapped=e}function r(e){var t,r;function o(t,r){try{var i=e[t](r),a=i.value,c=a instanceof n;Promise.resolve(c?a.wrapped:a).then(function(e){c?o("return"===t?"return":"next",e):u(i.done?"return":"normal",e)},function(e){o("throw",e)})}catch(e){u("throw",e)}}function u(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?o(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise(function(u,i){var a={key:e,arg:n,resolve:u,reject:i,next:null};r?r=r.next=a:(t=r=a,o(e,n))})},"function"!=typeof e.return&&(this.return=void 0)}function o(e){return function(){return new r(e.apply(this,arguments))}}function u(e){return new n(e)}function i(e,t){var n={},r=!1;function o(n,o){return r=!0,o=new Promise(function(t){t(e[n](o))}),{done:!1,value:t(o)}}return n["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):o("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return o("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):o("return",e)}),n}function a(e,t){var n=t.deepCopy,r=t.start,o=t.end,u=e.length<o?e.length-r:o-r;if(void 0===n||n){var i=Buffer.alloc(u);return e.copy(i,0,r,r+u),i}return e.subarray(r,r+u)}function c(e,t){for(var n=[],r=t.length,o=t.deepCopy,u=void 0===o||o,i=0;i<e.length;)n.push(a(e,{deepCopy:u,start:i,end:i+=r}));return n}function f(){return(f=o(regeneratorRuntime.mark(function e(n,r){var o,a,f,l,s,p,h,y,d,v,b,x,g,w,m,k;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=r.length,f=void 0===(a=r.deepCopy)||a,l=[],s=0,p=!0,h=!1,e.prev=5,d=t(n);case 7:return e.next=9,u(d.next());case 9:return p=(v=e.sent).done,e.next=13,u(v.value);case 13:if(b=e.sent,p){e.next=33;break}if(l.push(x=b),!((s+=x.length)>o)){e.next=30;break}g=c(Buffer.concat(l),{deepCopy:f,length:o}),m=(w=g.length%o!=0)?g.length-1:g.length,k=0;case 23:if(!(k<m)){e.next=29;break}return e.next=26,g[k];case 26:k+=1,e.next=23;break;case 29:w?s=(l=[g[g.length-1]]).reduce(function(e,t){return e+t.length},0):(l=[],s=0);case 30:p=!0,e.next=7;break;case 33:e.next=39;break;case 35:e.prev=35,e.t0=e.catch(5),h=!0,y=e.t0;case 39:if(e.prev=39,e.prev=40,p||null==d.return){e.next=44;break}return e.next=44,u(d.return());case 44:if(e.prev=44,!h){e.next=47;break}throw y;case 47:return e.finish(44);case 48:return e.finish(39);case 49:if(!(l.length>0)){e.next=51;break}return e.delegateYield(i(t(l),u),"t1",51);case 51:case"end":return e.stop()}},e,null,[[5,35,39,49],[40,,44,48]])}))).apply(this,arguments)}r.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},r.prototype.next=function(e){return this._invoke("next",e)},r.prototype.throw=function(e){return this._invoke("throw",e)},r.prototype.return=function(e){return this._invoke("return",e)},e.cutBuffer=a,e.cuttingBuffer=c,e.cuttingRStream=function(e,t){return f.apply(this,arguments)}});
//# sourceMappingURL=index.umd.js.map
