function e(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function t(e){this.wrapped=e}function n(e){var n,r;function o(n,r){try{var a=e[n](r),c=a.value,i=c instanceof t;Promise.resolve(i?c.wrapped:c).then(function(e){i?o("return"===n?"return":"next",e):u(a.done?"return":"normal",e)},function(e){o("throw",e)})}catch(e){u("throw",e)}}function u(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?o(n.key,n.arg):r=null}this._invoke=function(e,t){return new Promise(function(u,a){var c={key:e,arg:t,resolve:u,reject:a,next:null};r?r=r.next=c:(n=r=c,o(e,t))})},"function"!=typeof e.return&&(this.return=void 0)}function r(e){return function(){return new n(e.apply(this,arguments))}}function o(e){return new t(e)}function u(e,t){var n=t.deepCopy,r=t.start,o=t.end,u=e.length<o?e.length-r:o-r;if(void 0===n||n){var a=Buffer.alloc(u);return e.copy(a,0,r,r+u),a}return e.subarray(r,r+u)}function a(e,t){for(var n=[],r=t.length,o=t.deepCopy,a=void 0===o||o,c=0;c<e.length;)n.push(u(e,{deepCopy:a,start:c,end:c+=r}));return n}function c(){return(c=r(regeneratorRuntime.mark(function t(n,r){var u,c,i,s,f,l,p,h,y,v,x,b,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=r.length,i=void 0===(c=r.deepCopy)||c,s=[],f=!0,l=!1,t.prev=4,h=e(n);case 6:return t.next=8,o(h.next());case 8:return f=(y=t.sent).done,t.next=12,o(y.value);case 12:if(v=t.sent,f){t.next=33;break}if(s.push(x=v),!(s.reduce(function(e,t){return e+t.length},0)>u)){t.next=29;break}b=a(Buffer.concat(s),{deepCopy:i,length:u}),d=0;case 20:if(!(d<b.length-1)){t.next=26;break}return t.next=23,b[d];case 23:d+=1,t.next=20;break;case 26:s.push(b[b.length-1]),t.next=30;break;case 29:s.push(x);case 30:f=!0,t.next=6;break;case 33:t.next=39;break;case 35:t.prev=35,t.t0=t.catch(4),l=!0,p=t.t0;case 39:if(t.prev=39,t.prev=40,f||null==h.return){t.next=44;break}return t.next=44,o(h.return());case 44:if(t.prev=44,!l){t.next=47;break}throw p;case 47:return t.finish(44);case 48:return t.finish(39);case 49:if(!s){t.next=52;break}return t.next=52,s.pop();case 52:case"end":return t.stop()}},t,null,[[4,35,39,49],[40,,44,48]])}))).apply(this,arguments)}n.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},n.prototype.next=function(e){return this._invoke("next",e)},n.prototype.throw=function(e){return this._invoke("throw",e)},n.prototype.return=function(e){return this._invoke("return",e)},exports.cutBuffer=u,exports.cuttingBuffer=a,exports.cuttingRStream=function(e,t){return c.apply(this,arguments)};
//# sourceMappingURL=index.cjs.map
